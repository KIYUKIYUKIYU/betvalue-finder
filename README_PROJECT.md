# BET_HUNTER / betvalue-finder â€” çµ±åˆæŒ‡ç¤ºæ›¸ï¼ˆWSL2çµ±ä¸€ç‰ˆï¼‰

## 1) å‰æãƒ»ç’°å¢ƒ

- **OS**: Windows 11 + WSL2 (Ubuntu)
- **é–‹ç™ºç’°å¢ƒ**: WSL2å†…ã§å…¨ä½œæ¥­ã‚’å®Ÿæ–½
- **ã‚·ã‚§ãƒ«**: bashï¼ˆWSL2å†…ï¼‰
- **Python**: 3.12
- **ä»®æƒ³ç’°å¢ƒ**: venv
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹**: `~/betvalue-finder` (WSL2å†…)
- **APIã‚­ãƒ¼ï¼ˆç’°å¢ƒå¤‰æ•°ï¼‰**: 
  - `API_SPORTS_KEY`ï¼ˆAPI-SPORTS Baseball v1 ç”¨ï¼‰
  - `.bashrc`ã«è¨­å®šæ¸ˆã¿
- **ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³**: Asia/Tokyoï¼ˆJSTï¼‰
- **å…±é€šãƒ«ãƒ¼ãƒ«**: ã€ŒğŸ“œã€æ°¸ä¹…ä¿å­˜ç‰ˆã€‘AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¸ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…±é€šæŒ‡ç¤ºæ›¸ã€ã‚’å³å®ˆ

### ç’°å¢ƒè¨­å®šæ¸ˆã¿é …ç›®
- GitHubãƒˆãƒ¼ã‚¯ãƒ³: `GITHUB_TOKEN`ï¼ˆ.bashrcã«è¨­å®šæ¸ˆã¿ï¼‰
- ã‚¨ã‚¤ãƒªã‚¢ã‚¹: `gitpush`ã§ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥å¯èƒ½

---

## 2) ã‚·ã‚¹ãƒ†ãƒ ç›®çš„ï¼ˆè¦ç´„ï¼‰

Pinnacle ã‚ªãƒƒã‚ºã‚’åŸºæº–ã«ã€æ—¥æœ¬å¼ãƒãƒ³ãƒ‡ï¼ˆé…å½“å›ºå®š 1.9ï¼‰ã®æœŸå¾…å€¤ã‚’ç®—å‡ºã—ã€å€‹åˆ¥ãƒ©ã‚¤ãƒ³ã®æœ‰åˆ©ï¼ä¸åˆ©ã‚’è‡ªå‹•åˆ¤å®š

**å¯¾è±¡ç«¶æŠ€**: MLB / ã‚µãƒƒã‚«ãƒ¼ / NBAã«æ±ç”¨åŒ–

**è©•ä¾¡ãƒ•ãƒ­ãƒ¼**:
- ãƒãƒ¼ã‚¸ãƒ³é™¤å»ï¼ˆå„ãƒ©ã‚¤ãƒ³ã®å…¬æ­£åŒ–ï¼‰
- ç·šå½¢è£œé–“ï¼ˆ0.05åˆ»ã¿ãƒ»å¤‰æ›è¡¨ã«æº–æ‹ ï¼‰
- å…¬æ­£ã‚ªãƒƒã‚ºâ†’æœŸå¾…å€¤ï¼ˆ1.9å›ºå®šï¼‰
- verdict ä»˜ä¸ï¼šclear_plus / plus / fair / minusï¼ˆé–¾å€¤ã¯åˆæ„æ¸ˆã¿å€¤ï¼‰

---

## 3) ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
betvalue-finder/
â”œâ”€ README_PROJECT.md              # æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€ app/
â”‚  â”œâ”€ main.py                    # FastAPI: /map, /evaluate, /ingest
â”‚  â””â”€ converter.py               # æ—¥æœ¬å¼â‡„ãƒ”ãƒŠã‚¯ãƒ«å¤‰æ›
â”œâ”€ converter/                    # å¤‰æ›ãƒ»EVè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
â”‚  â””â”€ baseball_rules.py         # MLBç”¨EVãƒ«ãƒ¼ãƒ«
â”œâ”€ game_manager/                 # ã€æ–°ã€‘è©¦åˆç®¡ç†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚  â”œâ”€ base.py                   # åŸºåº•ã‚¯ãƒ©ã‚¹
â”‚  â””â”€ mlb.py                    # MLBå®Ÿè£…
â”œâ”€ data/
â”‚  â”œâ”€ mlb/
â”‚  â”‚  â”œâ”€ games_YYYYMMDD.json   # è©¦åˆãƒ‡ãƒ¼ã‚¿
â”‚  â”‚  â””â”€ odds_YYYYMMDD.json    # ã‚ªãƒƒã‚ºãƒ‡ãƒ¼ã‚¿
â”‚  â””â”€ soccer/
â”‚      â””â”€ odds_YYYYMMDD.json    # ã‚µãƒƒã‚«ãƒ¼ã‚ªãƒƒã‚º
â”œâ”€ input/                        # è²¼ã‚Šä»˜ã‘ãƒ†ã‚­ã‚¹ãƒˆç½®ãå ´
â”œâ”€ scripts/
â”‚  â”œâ”€ update_games.py           # ã€æ–°ã€‘æ¯æ—¥ã®è©¦åˆæ›´æ–°
â”‚  â”œâ”€ process_paste_new.py      # ã€æ–°ã€‘æ–°è²¼ã‚Šä»˜ã‘å‡¦ç†
â”‚  â”œâ”€ mlb_from_paste_compare.py # å¾“æ¥ã®è²¼ã‚Šä»˜ã‘å‡¦ç†
â”‚  â”œâ”€ dump_spreads_csv.py       # CSVãƒ€ãƒ³ãƒ—
â”‚  â””â”€ output/                   # å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€ docs/                         # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé¡
â”‚  â””â”€ HANDOVER_YYYYMMDD.md     # å¼•ãç¶™ãæ›¸
â”œâ”€ bet_snapshots.sqlite3
â”œâ”€ ã€Œ## 1. å¤‰æ›è¡¨ï¼ˆãƒ”ãƒŠã‚¯ãƒ« â†’ æ—¥æœ¬å¼ï¼‰.txtã€
â””â”€ ã€ŒğŸ“œã€æ°¸ä¹…ä¿å­˜ç‰ˆã€‘AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¸ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…±é€šæŒ‡ç¤ºæ›¸.txtã€
```

---

## 4) ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼ˆWSL2ï¼‰

### åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. WSL2ã‚’èµ·å‹•ï¼ˆWindowsã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãªã©ã‹ã‚‰ï¼‰
wsl

# 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
cd ~
git clone https://github.com/KIYUKIYUKIYU/betvalue-finder.git
cd betvalue-finder

# 3. Pythonä»®æƒ³ç’°å¢ƒã‚’ä½œæˆ
python3 -m venv venv
source venv/bin/activate

# 4. ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# 5. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆ.bashrcã«è¿½åŠ ï¼‰
echo 'export API_SPORTS_KEY="ã‚ãªãŸã®APIã‚­ãƒ¼"' >> ~/.bashrc
echo 'export GITHUB_TOKEN="ã‚ãªãŸã®GitHubãƒˆãƒ¼ã‚¯ãƒ³"' >> ~/.bashrc
source ~/.bashrc

# 6. Gitã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
echo 'alias gitpush="git add . && git commit -m \"Update\" && git push"' >> ~/.bashrc
source ~/.bashrc
```

### æ—¥å¸¸ã®ä½œæ¥­é–‹å§‹

```bash
# WSL2ã‚’èµ·å‹•
wsl

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç§»å‹•
cd ~/betvalue-finder

# ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹åŒ–
source venv/bin/activate

# æœ€æ–°ç‰ˆã‚’å–å¾—
git pull
```

---

## 5) MLBãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆGameManagerç‰ˆï¼‰

### 5.1 è©¦åˆãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆæ¯æ—¥å®Ÿè¡Œï¼‰

```bash
# ä»Šæ—¥ã®è©¦åˆã‚’å–å¾—
python scripts/update_games.py --sport mlb

# ç‰¹å®šæ—¥ã®è©¦åˆã‚’å–å¾—
python scripts/update_games.py --sport mlb --date 2025-08-25
```

### 5.2 è²¼ã‚Šä»˜ã‘å‡¦ç†ï¼†EVè¨ˆç®—

```bash
# 1. è²¼ã‚Šä»˜ã‘ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
nano input/paste_20250825.txt

# å†…å®¹ä¾‹ï¼š
# ãƒ¤ãƒ³ã‚­ãƒ¼ã‚¹<0.1>
# ãƒ¬ãƒƒãƒ‰ã‚½ãƒƒã‚¯ã‚¹
#
# ã‚«ãƒ¼ã‚¸ãƒŠãƒ«ã‚¹
# ãƒ–ãƒ«ãƒ¼ã‚¸ã‚§ã‚¤ã‚º<1.2>

# 2. å‡¦ç†å®Ÿè¡Œï¼ˆãƒ¬ãƒ¼ã‚­ãƒãƒƒã‚¯1.5%ï¼‰
python scripts/process_paste_new.py \
  input/paste_20250825.txt \
  --date 2025-08-25 \
  --rakeback 0.015
```

### 5.3 å…¨ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ãƒ€ãƒ³ãƒ—ï¼ˆåˆ†æç”¨ï¼‰

```bash
python scripts/dump_spreads_csv.py --sport mlb
# å‡ºåŠ›: scripts/output/mlb_spreads_dump_YYYYMMDD.csv
```

---

## 6) ãƒ¬ãƒ¼ã‚­ãƒãƒƒã‚¯ä»•æ§˜

- **æ–¹å¼**: Turnoverã®ã¿ï¼ˆè³­ã‘é‡‘ã«å¯¾ã™ã‚‹è¿”é‚„ï¼‰
- **ç¯„å›²**: 0ã€œ3%
- **åˆ»ã¿**: 0.5%å˜ä½ï¼ˆ0.005åˆ»ã¿ï¼‰
- **æŒ‡å®šæ–¹æ³•**: `--rakeback 0.015`ï¼ˆ1.5%ã®å ´åˆï¼‰
- **è¨ˆç®—å¼**: 
  - `EV% = (p * O - 1 + r) * 100`
  - `å®ŸåŠ¹é…å½“ O_eff = O + r/p`

---

## 7) æ—¢çŸ¥ã®å•é¡Œã¨å¯¾å¿œ

### ãƒãƒ¼ãƒ åãƒãƒƒãƒãƒ³ã‚°å•é¡Œ
- **å•é¡Œ**: "St.Louis Cardinals" vs "St. Louis Cardinals"
- **å¯¾å¿œ**: game_manager/mlb.pyã§æ­£è¦åŒ–å‡¦ç†å®Ÿè£…äºˆå®š

---

## 8) ã‚³ãƒãƒ³ãƒ‰é›†ï¼ˆã‚³ãƒ”ãƒšç”¨ï¼‰

```bash
# ç’°å¢ƒæº–å‚™
cd ~/betvalue-finder && source venv/bin/activate

# è©¦åˆæ›´æ–°ï¼ˆæ¯æ—¥ï¼‰
python scripts/update_games.py --sport mlb

# è²¼ã‚Šä»˜ã‘å‡¦ç†
python scripts/process_paste_new.py input/paste_$(date +%Y%m%d).txt

# APIèµ·å‹•ï¼ˆé–‹ç™ºç”¨ï¼‰
python -m uvicorn app.main:app --reload --port 8001

# Gitæ›´æ–°
git pull && git status

# Gitä¿å­˜ï¼ˆã‚¨ã‚¤ãƒªã‚¢ã‚¹ä½¿ç”¨ï¼‰
gitpush
```

---

## 9) ä»Šå¾Œã®ãƒ•ã‚§ãƒ¼ã‚º

- **ãƒ•ã‚§ãƒ¼ã‚º1**: âœ… GameManagerå®Ÿè£…å®Œäº†
- **ãƒ•ã‚§ãƒ¼ã‚º2**: ãƒãƒ¼ãƒ åæ­£è¦åŒ–ï¼†EVè¨ˆç®—å®Œå…¨å®Ÿè£…ï¼ˆé€²è¡Œä¸­ï¼‰
- **ãƒ•ã‚§ãƒ¼ã‚º3**: FastAPIå®Œå…¨çµ±åˆ
- **ãƒ•ã‚§ãƒ¼ã‚º4**: Webã‚µãƒ¼ãƒ“ã‚¹åŒ–ï¼ˆGCPäºˆå®šï¼‰
- **ãƒ•ã‚§ãƒ¼ã‚º5**: è²©å£²å½¢æ…‹æ¤œè¨

---

## 10) APIä½¿ç”¨çŠ¶æ³

- **API-Sportsæ®‹é‡**: ç´„75,000/100,000ï¼ˆ2025-08-25æ™‚ç‚¹ï¼‰
- **1æ—¥ã®ä½¿ç”¨ç›®å®‰**: è©¦åˆå–å¾—50å› + ã‚ªãƒƒã‚ºå–å¾—100å›ç¨‹åº¦

---

## 11) æ³¨æ„äº‹é …

- å¸¸ã« **README_PROJECT.md ãŒå”¯ä¸€ã®æ­£**
- æ–°ä»•æ§˜ã¯å¿…ãš **åˆæ„ â†’ READMEè¿½è¨˜ â†’ ã‚³ãƒ¼ãƒ‰å®Ÿè£…** ã®é †
- WSL2å†…ã§å…¨ä½œæ¥­ã‚’å®Œçµï¼ˆWindowsãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨ã®ç›´æ¥æ“ä½œã¯é¿ã‘ã‚‹ï¼‰
- GitHubæ›´æ–°ã¯`gitpush`ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§ç°¡å˜å®Ÿè¡Œå¯èƒ½
